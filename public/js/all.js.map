{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["var form = {\n\tinit: function(){\n\t\tif (!$(\"#signupForm\").length) return;\n\n\t\tconsole.log(\"signup page\");\n\n\t\t//form.helpers.setupTabs(\"#form-tabs\");\n\t\tform.helpers.select('#genre-select');\n\t\tform.helpers.appendForm('.form-types');\n\t\tform.helpers.managerListen(\"#btn-manage\");\n\t\tform.autocomplete('#artist-autocomplete');\n\t\t//form.removeUser(\"#remove-user\");\n\t},\n\tautocomplete: function(elem){\n\t\t$(elem).autocomplete({\n      \t\tsource: \"/ajax/artist-suggest\",\n      \t\tminLength: 4,\n      \t\tselect: function( event, ui ) {\n      \t\t\tform.helpers.clear(event, elem);\n      \t\t\t// user selected an item\n      \t\t\tform.helpers.appendManaged(ui);\n      \t\t}\n    \t});\n\t},\n\tremoveUser: function(elem){\n\t\t$(\"body\").on(\"click\", elem, function(){\n\t\t\t// remove the elem\n\t\t\t$(elem).remove();\n\t\t});\n\t},\n\thelpers: {\n\t\tclear: function(event, elem){\n\t\t\tevent.preventDefault();\n  \t\t\t$(elem).val('');\n\t\t},\n\t\tappendManaged: function(item){\n\t\t\tvar item = item.item;\n\t\t\t// item should be a json array\n\n\t\t\t// append to .selected-users\n\t\t\tvar container = \".selected-users\";\n\n\t\t\tvar id = 'remove-user-' + item.id;\n\n\t\t\t// build html for input\n\t\t\tvar html = \"<div class='item inline col-lg-2' id='user-input \" + id + \"'>\";\n\t\t\thtml += \"<label class='col-form-label'>\" + item.label + \"</label><i class='fas fa-times-circle'></i>\";\n\t\t\thtml += \"<input type='hidden' name='users_managed[]' value='\" + item.id + \"'/>\";\n\t\t\thtml += \"</div>\";\n\n\t\t\t$(container).append(html);\n\n\t\t\tform.removeUser(\"#\" + id);\n\n\t\t\thtml = null;\n\t\t\treturn;\n\t\t},\n\t\tmanagerListen: function(elem){\n\t\t\tvar item = \".div_manged-users\";\n\t\t\t$(elem).click(form.helpers.clicked);\n\t\t},\n\t\tclicked: function(){\n\t\t\tvar elem = '.div_manged-users';\n\t\t\t// show the input where they can enter artist names\n\t\t\t$(elem).removeClass('hide');\n\t\t},\n\t\ttoggleTabOff: function(elem){\n\t\t\t$(elem).removeClass('active');\n\t\t},\n\t\ttoggleTabOn: function(elem){\n\t\t\t$(elem).addClass('active');\n\t\t},\n\t\thideForm: function(elem){\n\t\t\t$(elem).removeClass('active').addClass('hide');\n\t\t},\n\t\tshowForm: function(elem){\n\t\t\t$(elem).removeClass('hide').addClass('active');\n\t\t},\n\t\tsetupTabs: function(elem){\n\t\t\t$(elem + \" > li\").click(function(event){\n\t\t\t\t// pull the id\n\t\t\t\tvar id = $(this).attr('id');\n\t\t\t\t\n\t\t\t\t// remove the active flag and add hide\n\t\t\t\tform.helpers.toggleTabOff(\"#artist > a\");\n\t\t\t\tform.helpers.toggleTabOff(\"#manager > a\");\n\t\t\t\tform.helpers.toggleTabOff(\"#coordinator > a\");\n\n\t\t\t\t// activate tab\n\t\t\t\tform.helpers.toggleTabOn(\"#\" + id + \" a\");\n\t\t\t\t//$(\"#\" + id + \"-form\").removeClass('hide').addClass('active');\n\n\t\t\t\t// hide forms\n\t\t\t\tform.helpers.hideForm(\"#artist-form\");\n\t\t\t\tform.helpers.hideForm(\"#manager-form\");\n\t\t\t\tform.helpers.hideForm(\"#coordinator-form\");\n\n\t\t\t\t//show form\n\t\t\t\tform.helpers.showForm(\"#\" + id + \"-form\");\n\t\t\t});\n\t\t},\n\t\tshowOther: function(hide){\n\t\t\t// show the other input\n\t\t\tif (hide) {\n\t\t\t$(\"#other\").addClass('hide');\n\t\t\t$(\"#other input\").val('');\n\t\t\t} else {\n\t\t\t\t$(\"#other\").removeClass('hide');\n\t\t\t}\n\t\t},\n\t\tshouldShowOther: function(text){\n\t\t\tif (text == 'other') {\n\t\t\t\tform.helpers.showOther(false);\n\t\t\t} else {\n\t\t\t\t// hide the input\n\t\t\t\tform.helpers.showOther(true);\n\t\t\t}\n\t\t},\n\t\tselect: function(select){\n\t\t\tvar current = $(select + \" :selected\");\n\t\t\tvar text = $(current).text().toLowerCase();\n\t\t\tvar id = $(current).val();\n\t\t\t\n\t\t\t// if the current option selected is other we show the other input\n\t\t\tform.helpers.shouldShowOther(text);\n\n\t\t\t// listen for a change event\n\t\t\t$(select).change(function(){\n\t\t\t\tvar changed = $(select + \" :selected\").text().toLowerCase();\n\n\t\t\t\tform.helpers.shouldShowOther(changed);\n\t\t\t});\n\t\t},\n\t\tappendForm: function(parent){\n\t\t\t// listen for a click\n\t\t\t$(parent + \" div.btn\").click(function(){\n\t\t\t\tvar formType = $(this).data('form-id');\n\t\t\t\t$.get('/append-form/' + formType, function(data){\n\t\t\t\t\t// replace the div .form-addition\n\t\t\t\t\t$('.form-addition').html(data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t}\n};\n\n$(document).ready(function(){\n\tform.init();\n});"]}